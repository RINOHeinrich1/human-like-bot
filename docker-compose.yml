services:
  linkedin-bot:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: linkedin-bot
    privileged: true
    volumes:
      - ./config.py:/app/config.py
      - ./onir_linkedin.log:/app/onir_linkedin.log
      - ./images:/app/images
      - ./chrome-profile:/app/chrome-profile
      - ./screenshots:/app/screenshots    # ðŸ‘ˆ Dossier local montÃ©
    environment:
      - DISPLAY=:99
    ports:
      - "5900:5900"
    # command: >
    #   /bin/sh -c "Xvfb :99 -screen 0 1920x1080x24 & 
    #               python3 main.py"
    # Optionnel â€” retirer network_mode et ipc si tu n'as pas besoin de l'affichage local externe
    network_mode: host
    ipc: host
